<script props>
  module.exports = {
    // Content
    logoUrl: props['logo-url'] || '',
    logoAlt: props['logo-alt'] || '',
    linkUrl: props['link-url'] || '{{custom_values.website_url}}',
    // Layout
    align: props.align || 'center',
    padding: props.padding || '35px',
    bgColor: props['bg-color'] || '',
    borderRadius: props['border-radius'] || '',
    // Logo sizing
    logoWidth: props['logo-width'] || '200',
    logoHeight: props['logo-height'] || '',
    logoOpacity: props['logo-opacity'] || '',
    // ── Mobile overrides (responsive) ──
    mAlign: props['m:align'] || '',
    mLogoWidth: props['m:logo-width'] || '',
    mPadding: props['m:padding'] || '',
    mBorderRadius: props['m:border-radius'] || '',
    scopeClass: 'loomi-c' + (props['component-index'] || '0'),
    get responsiveCss() {
      const r = [];
      const s = '.' + this.scopeClass + ' ';
      if (this.mAlign) r.push(s + '.loomi-header-td { text-align: ' + this.mAlign + ' !important; }');
      if (this.mLogoWidth) r.push(s + '.loomi-header-logo { width: ' + this.mLogoWidth + ' !important; }');
      if (this.mPadding) r.push(s + '.loomi-header-td { padding: ' + this.mPadding + ' !important; }');
      if (this.mBorderRadius) r.push(s + '.loomi-header-td { border-radius: ' + this.mBorderRadius + ' !important; overflow: hidden !important; }');
      return r.join(' ');
    },
  };
</script>

<if condition="responsiveCss">
  <style>
    @media screen and (max-width: 600px) {
      {{{ responsiveCss }}}
    }
  </style>
</if>

<tr class="{{ scopeClass }}">
  <td class="loomi-header-td" style="text-align: {{ align }}; padding: {{ padding }};{{ bgColor ? ' background-color: ' + bgColor + ';' : '' }}{{ borderRadius ? ' border-radius: ' + borderRadius + '; overflow: hidden;' : '' }}">
    <a href="{{ linkUrl }}" style="text-decoration: none;">
      <img
        class="loomi-header-logo"
        src="{{ logoUrl }}"
        alt="{{ logoAlt }}"
        width="{{ logoWidth }}"
        style="display: inline-block; border: 0; height: auto;{{ logoHeight ? ' max-height: ' + logoHeight + ';' : '' }}{{ logoOpacity ? ' opacity: ' + logoOpacity + ';' : '' }}"
      />
    </a>
  </td>
</tr>
